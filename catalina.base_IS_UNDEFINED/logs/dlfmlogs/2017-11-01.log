2017-11-01 13:27:16.025 [main] INFO  o.s.t.c.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-11-01 13:27:16.049 [main] INFO  o.s.t.c.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@33cb5951, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@365c30cc, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@701fc37a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4148db48, org.springframework.test.context.transaction.TransactionalTestExecutionListener@282003e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7fad8c79]
2017-11-01 13:27:16.183 [main] INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [applicationContext.xml]
2017-11-01 13:27:17.132 [main] INFO  o.s.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@770c2e6b: startup date [Wed Nov 01 13:27:17 CST 2017]; root of context hierarchy
2017-11-01 13:27:18.771 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {4.0.2.Final}
2017-11-01 13:27:18.778 [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {4.2.14.Final}
2017-11-01 13:27:18.782 [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2017-11-01 13:27:18.784 [main] INFO  org.hibernate.cfg.Environment - HHH000021: Bytecode provider name : javassist
2017-11-01 13:27:19.379 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2017-11-01 13:27:19.392 [main] INFO  o.hibernate.engine.jdbc.internal.LobCreatorBuilder - HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-11-01 13:27:19.643 [main] INFO  o.h.e.t.internal.TransactionFactoryInitiator - HHH000399: Using default transaction strategy (direct JDBC transactions)
2017-11-01 13:27:19.650 [main] INFO  o.h.hql.internal.ast.ASTQueryTranslatorFactory - HHH000397: Using ASTQueryTranslatorFactory
2017-11-01 13:27:19.652 [main] WARN  org.hibernate.cfg.SettingsFactory - Unrecognized value for "hibernate.hbm2ddl.auto": none
2017-11-01 13:27:19.702 [main] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 4.3.1.Final
2017-11-01 13:27:21.302 [main] DEBUG org.springframework.jdbc.core.JdbcTemplate - Executing prepared SQL query
2017-11-01 13:27:21.303 [main] DEBUG org.springframework.jdbc.core.JdbcTemplate - Executing prepared SQL statement [select u.id,u.realname,w.headimgurl from user u inner join wx_users w on u.id=w.userid where u.id=? and u.status=1]
2017-11-01 13:27:21.396 [main] INFO  com.sharewin.xhmz.XhmzTest - {"id":1,"realname":"管理人员","headimgurl":"http://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIt8WVxf3buVBoICvR0KibFlu2jERRXCflu2IcbjYNx7ibC0tfZXzDt4GqSmYTm29fJCMH5UFywROng/0"}
2017-11-01 13:27:21.399 [Thread-5] INFO  o.s.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@770c2e6b: startup date [Wed Nov 01 13:27:17 CST 2017]; root of context hierarchy
2017-11-01 13:35:43.993 [main] INFO  o.s.t.c.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-11-01 13:35:44.014 [main] INFO  o.s.t.c.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@33cb5951, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@365c30cc, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@701fc37a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4148db48, org.springframework.test.context.transaction.TransactionalTestExecutionListener@282003e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7fad8c79]
2017-11-01 13:35:44.120 [main] INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [applicationContext.xml]
2017-11-01 13:35:44.752 [main] INFO  o.s.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@770c2e6b: startup date [Wed Nov 01 13:35:44 CST 2017]; root of context hierarchy
2017-11-01 13:35:46.405 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {4.0.2.Final}
2017-11-01 13:35:46.410 [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {4.2.14.Final}
2017-11-01 13:35:46.412 [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2017-11-01 13:35:46.413 [main] INFO  org.hibernate.cfg.Environment - HHH000021: Bytecode provider name : javassist
2017-11-01 13:35:46.887 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2017-11-01 13:35:46.895 [main] INFO  o.hibernate.engine.jdbc.internal.LobCreatorBuilder - HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-11-01 13:35:47.150 [main] INFO  o.h.e.t.internal.TransactionFactoryInitiator - HHH000399: Using default transaction strategy (direct JDBC transactions)
2017-11-01 13:35:47.160 [main] INFO  o.h.hql.internal.ast.ASTQueryTranslatorFactory - HHH000397: Using ASTQueryTranslatorFactory
2017-11-01 13:35:47.167 [main] WARN  org.hibernate.cfg.SettingsFactory - Unrecognized value for "hibernate.hbm2ddl.auto": none
2017-11-01 13:35:47.229 [main] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 4.3.1.Final
2017-11-01 13:35:48.841 [main] DEBUG org.springframework.jdbc.core.JdbcTemplate - Executing prepared SQL query
2017-11-01 13:35:48.841 [main] DEBUG org.springframework.jdbc.core.JdbcTemplate - Executing prepared SQL statement [select u.id,u.realname,w.headimgurl from user u inner join wx_users w on u.id=w.userid where u.id=? and u.status=1]
2017-11-01 13:35:48.956 [main] INFO  com.sharewin.xhmz.XhmzTest - {"id":1,"realname":"管理人员","headimgurl":"http://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIt8WVxf3buVBoICvR0KibFlu2jERRXCflu2IcbjYNx7ibC0tfZXzDt4GqSmYTm29fJCMH5UFywROng/0"}
2017-11-01 13:35:48.961 [Thread-5] INFO  o.s.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@770c2e6b: startup date [Wed Nov 01 13:35:44 CST 2017]; root of context hierarchy
2017-11-01 14:16:37.952 [main] INFO  o.s.t.c.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-11-01 14:16:37.976 [main] INFO  o.s.t.c.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@33cb5951, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@365c30cc, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@701fc37a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4148db48, org.springframework.test.context.transaction.TransactionalTestExecutionListener@282003e1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7fad8c79]
2017-11-01 14:16:38.105 [main] INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [applicationContext.xml]
2017-11-01 14:16:39.009 [main] INFO  o.s.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@770c2e6b: startup date [Wed Nov 01 14:16:39 CST 2017]; root of context hierarchy
2017-11-01 14:16:40.627 [main] INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {4.0.2.Final}
2017-11-01 14:16:40.635 [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {4.2.14.Final}
2017-11-01 14:16:40.637 [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found
2017-11-01 14:16:40.639 [main] INFO  org.hibernate.cfg.Environment - HHH000021: Bytecode provider name : javassist
2017-11-01 14:16:41.200 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2017-11-01 14:16:41.208 [main] INFO  o.hibernate.engine.jdbc.internal.LobCreatorBuilder - HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-11-01 14:16:41.464 [main] INFO  o.h.e.t.internal.TransactionFactoryInitiator - HHH000399: Using default transaction strategy (direct JDBC transactions)
2017-11-01 14:16:41.472 [main] INFO  o.h.hql.internal.ast.ASTQueryTranslatorFactory - HHH000397: Using ASTQueryTranslatorFactory
2017-11-01 14:16:41.474 [main] WARN  org.hibernate.cfg.SettingsFactory - Unrecognized value for "hibernate.hbm2ddl.auto": none
2017-11-01 14:16:41.539 [main] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 4.3.1.Final
2017-11-01 14:16:43.678 [main] DEBUG org.hibernate.SQL - select survey0_.id as id1_2_, survey0_.create_time as create_t2_2_, survey0_.create_userid as create_u3_2_, survey0_.status as status4_2_, survey0_.survey_count as survey_c5_2_, survey0_.survey_desc as survey_d6_2_, survey0_.survey_endtm as survey_e7_2_, survey0_.survey_name as survey_n8_2_, survey0_.survey_starttm as survey_s9_2_, survey0_.survey_tip as survey_10_2_ from Survey survey0_ where survey0_.status=1 and survey0_.survey_starttm<=? and survey0_.survey_endtm<=? order by survey0_.create_time desc
2017-11-01 14:16:43.697 [main] TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter [1] as [TIMESTAMP] - 2017-11-01 14:16:43.414
2017-11-01 14:16:43.704 [main] TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter [2] as [TIMESTAMP] - 2017-11-01 14:16:43.414
2017-11-01 14:16:43.816 [main] WARN  com.sharewin.common.utils.mapper.JsonMapper - write to json string error:[com.sharewin.modules.sys.entity.Survey@60859f5a]
com.fasterxml.jackson.databind.JsonMappingException: failed to lazily initialize a collection of role: com.sharewin.modules.sys.entity.Survey.surveyQuestions, could not initialize proxy - no Session (through reference chain: java.util.ArrayList[0]->com.sharewin.modules.sys.entity.Survey["questionCount"])
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:388) ~[jackson-databind-2.8.7.jar:2.8.7]
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:348) ~[jackson-databind-2.8.7.jar:2.8.7]
	at com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:343) ~[jackson-databind-2.8.7.jar:2.8.7]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:698) ~[jackson-databind-2.8.7.jar:2.8.7]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:155) ~[jackson-databind-2.8.7.jar:2.8.7]
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:119) ~[jackson-databind-2.8.7.jar:2.8.7]
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:79) ~[jackson-databind-2.8.7.jar:2.8.7]
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:18) ~[jackson-databind-2.8.7.jar:2.8.7]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:292) ~[jackson-databind-2.8.7.jar:2.8.7]
	at com.fasterxml.jackson.databind.ObjectMapper._configAndWriteValue(ObjectMapper.java:3681) ~[jackson-databind-2.8.7.jar:2.8.7]
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3057) ~[jackson-databind-2.8.7.jar:2.8.7]
	at com.sharewin.common.utils.mapper.JsonMapper.toJson(JsonMapper.java:118) ~[classes/:na]
	at com.sharewin.xhmz.XhmzTest.getSurvey(XhmzTest.java:105) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_112]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_112]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_112]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_112]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75) [spring-test-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252) [spring-test-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.7.RELEASE.jar:4.3.7.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.sharewin.modules.sys.entity.Survey.surveyQuestions, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:569) ~[hibernate-core-4.2.14.Final.jar:4.2.14.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:188) ~[hibernate-core-4.2.14.Final.jar:4.2.14.Final]
	at org.hibernate.collection.internal.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:139) ~[hibernate-core-4.2.14.Final.jar:4.2.14.Final]
	at org.hibernate.collection.internal.PersistentBag.size(PersistentBag.java:242) ~[hibernate-core-4.2.14.Final.jar:4.2.14.Final]
	at com.sharewin.modules.sys.entity.Survey.getQuestionCount(Survey.java:145) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_112]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_112]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_112]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_112]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:664) ~[jackson-databind-2.8.7.jar:2.8.7]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:690) ~[jackson-databind-2.8.7.jar:2.8.7]
	... 37 common frames omitted
2017-11-01 14:16:43.819 [main] INFO  com.sharewin.xhmz.XhmzTest - null
2017-11-01 14:16:43.827 [Thread-5] INFO  o.s.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@770c2e6b: startup date [Wed Nov 01 14:16:39 CST 2017]; root of context hierarchy
